(this["webpackJsonp@dwfe/routing-tests-manual"]=this["webpackJsonp@dwfe/routing-tests-manual"]||[]).push([[0],{101:function(t,e,n){"use strict";var r=n(60),o=n(61);Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRouter=void 0;var i=n(102),c=n(119),a=n(117),s=n(91),u=n(88),h=n(84),l=n(105),d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.defaultOptions;r(this,t),this.options=n,this.history=c.createBrowserHistory(),this.lastLocationKey="",this.componentSubj=new a.Subject,this.componentData$=this.componentSubj.asObservable().pipe(s.filter((function(t){return!!(null===t||void 0===t?void 0:t.component)})),s.distinctUntilChanged(),s.shareReplay(1)),this.pathResolver=new i.PathResolver(e,n.pathResolver),this.locationHandler=new l.LocationHandler(this)}return o(t,[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.history.listen(this.onLocationChange.bind(this)),this.go(t)}},{key:"onLocationChange",value:function(t){var e=this,n=t.location,r=t.action;console.log("action",r),this.lastLocationKey=n.key,this.locationHandler.processLocation(n).then((function(t){return e.routeActivation(t)}))}},{key:"routeActivation",value:function(t){if(t){var e=t.isCanceled,n=t.result,r=t.id;e?this.trace(r,"canceled"):n()}}},{key:"go",value:function(t,e){console.log("go",t),t=u.convertGoToFromStr(t),u.isGoAway(t)?this.goAway(t):this.history.push(u.getLocalRoute(t),e)}},{key:"goBack",value:function(){this.history.back()}},{key:"goForward",value:function(){this.history.forward()}},{key:"goAway",value:function(t){t=u.convertGoToFromStr(t);var e=u.getUrl(t);e&&("_blank"===t.target?window.open(e,"_blank"):window.location.assign(e))}},{key:"redirect",value:function(t,e){t=u.convertGoToFromStr(t),this.history.replace(t,e)}},{key:"block",value:function(t){return this.history.block(t)}},{key:"isLocationChanged",value:function(t){var e=t.key;return this.lastLocationKey!==e}},{key:"trace",value:function(t,e){this.options.enableTrace&&console.log("[ ".concat(t," ]"),e)}}]),t}();e.BrowserRouter=d},102:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(85),e),o(n(103),e),o(n(86),e)},103:function(t,e,n){"use strict";var r=n(60),o=n(61);Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.PathResolver=void 0;var i=n(104),c=n(85),a=n(86),s=function(){function t(n){var o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.defaultOptions;r(this,t),this.options=i,this.routes=[],n.forEach((function(t){var n=a.cloneRoute(t);if("/"===n.path[0])throw h(n.path);n.path=e.init.calcPath(n.path,"/"),n.redirectTo=e.init.calcTo(n.redirectTo,"/"),n.customTo=e.init.calcCustomTo(n.customTo,"/"),n.children=e.init.children(n),o.routes.push(n)}))}return o(t,[{key:"resolve",value:function(t){return this.trace("resolving '".concat(t,"'")),this.find(t,this.routes)}},{key:"find",value:function(t,e,n){if(e)for(var r=0;r<e.length;r++){var o=a.cloneRoute(e[r]),c=i.match(o.path)(t);if(this.trace("[".concat(c?"v":"x","] ").concat(o.path)),c&&!u(o)){var s=c.params;return o.redirectTo&&(o.redirectTo=i.compile(o.redirectTo)(s)),o.customTo&&(o.customTo.pathname=i.compile(o.customTo.pathname)(s)),{route:o,pathParams:s,parentRoute:n}}var h=this.find(t,o.children,o);if(h)return h}}},{key:"correctResultFromAction",value:function(t,n,r,o){if(void 0!==n.redirectTo||void 0!==n.customTo){a.cloneResult(n);var c=o?o.path:"/";n.redirectTo=e.init.calcTo(n.redirectTo,c),n.customTo=e.init.calcCustomTo(n.customTo,c);var s=i.match(r.path)(t);if(s){var u=s.params;void 0!==n.redirectTo&&(n.redirectTo=i.compile(n.redirectTo)(u)),n.customTo&&(n.customTo.pathname=i.compile(n.customTo.pathname)(u))}}}},{key:"trace",value:function(t){this.options.enableTrace&&console.log(" ",t)}}]),t}();e.PathResolver=s,e.init={calcPath:function(t,e){return""===t?e:("/"===e?"":e)+"/"+t},calcTo:function(t,e){if("string"===typeof t)return""===t?e:"/"===t[0]?t:("/"===e?"/":e+"/")+t},calcCustomTo:function(t,e){if(t)return t.pathname=this.calcTo(t.pathname,e),t},children:function(t){var e=t.path,n=t.children;if(n){for(var r=[],o=0;o<n.length;o++){var i=a.cloneRoute(n[o]),c=i.path;if("/"===c[0])throw h(c);r.push(i),i.path=this.calcPath(c,e),i.redirectTo=this.calcTo(i.redirectTo,e),i.customTo=this.calcCustomTo(i.customTo,e),i.children=this.children(i)}return r}}};var u=function(t){var e=t.redirectTo,n=t.component,r=t.children;return void 0===e&&void 0===n&&void 0!==r&&r.length>0},h=function(t){return new Error("Invalid configuration of route, because path [ ".concat(t," ] cannot start with a slash"))}},105:function(t,e,n){"use strict";var r=n(46),o=n(60),i=n(61),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.LocationHandler=void 0;var a=n(107),s=function(){function t(e){o(this,t),this.router=e,this.tasks={}}return i(t,[{key:"processLocation",value:function(t){return c(this,void 0,void 0,r.mark((function e(){var n,o=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.Task.id(t),this.trace(n,"start processing location"),!this.isTaskExist(n)){e.next=5;break}return this.trace(n,"duplicate, skipped"),e.abrupt("return");case 5:return e.abrupt("return",this.resolveRoute({location:t,taskId:n}).then((function(t){return o.createTask(t)})).then((function(t){return t.runLifecycle()})).finally((function(){return o.removeTask(n)})));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"resolveRoute",value:function(t){var e=t.location,n=t.taskId;return c(this,void 0,void 0,r.mark((function t(){var o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.trace(n,"resolving route..."),o=this.router.pathResolver.resolve(e.pathname)){t.next=4;break}throw new Error("Cannot match any routes for [ ".concat(n," ]"));case 4:return t.abrupt("return",{taskId:n,location:e,resolved:o});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"createTask",value:function(t){var e=t.taskId,n=t.location,r=t.resolved,o=new a.Task(e,n,r,this.router);return this.addTask(e)||(o.isCanceled=!0),o}},{key:"isTaskExist",value:function(t){return!!this.getTask(t)}},{key:"getTask",value:function(t){return this.tasks["".concat(t)]}},{key:"addTask",value:function(t){if(!this.isTaskExist(t))return this.tasks["".concat(t)]=!0,!0}},{key:"removeTask",value:function(t){delete this.tasks["".concat(t)]}},{key:"trace",value:function(t,e){this.router.trace(t,e)}}]),t}();e.LocationHandler=s},107:function(t,e,n){"use strict";var r=n(46),o=n(60),i=n(61),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Task=void 0;var s=a(n(10)),u=n(88),h=function(){function t(e,n,r,i){var c=this;o(this,t),this.id=e,this.location=n,this.resolved=r,this.router=i,this.isCanceled=!1,this.runLifecycle=function(){return c.stageCanActivate().then((function(){return c.blockNavigation()})).then((function(){return c.stageProcessResult(c.route)})).then((function(){return c.stageInvokeRoutesAction()})).then((function(){return c.stageSummarize()})).catch((function(t){throw c.unblockNavigation(),t}))},this.route=r.route,this.parentRoute=r.parentRoute,this.routeActionData=this.getRouteActionData()}return i(t,[{key:"stageCanActivate",value:function(){return c(this,void 0,void 0,r.mark((function t(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isCompleted()&&this.route.canActivate){t.next=2;break}return t.abrupt("return");case 2:return e="invoke 'canActivate' action",this.trace(e),t.next=6,this.invokeAction(this.route.canActivate,"canActivate",e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"stageProcessResult",value:function(t){var e=t.redirectTo,n=t.customTo,o=t.component,i=t.skip;return c(this,void 0,void 0,r.mark((function t(){var c,a,s,h,l,d,f,v=this;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isCompleted()){t.next=2;break}return t.abrupt("return");case 2:if(this.trace("process result"),c="->",!i){t.next=7;break}return this.trace("".concat(c," go to the next stage")),t.abrupt("return",i);case 7:if(a={previousActionData:this.routeActionData},!e){t.next=13;break}return this.result=function(){v.trace("".concat(c," redirectTo")),v.router.redirect(e,a)},t.abrupt("return");case 13:if(!n){t.next=23;break}return s=n.pathname,h=n.search,l=n.hash,d=n.isRedirect,h=u.addFirstSymbol("?",h),l=u.addFirstSymbol("#",l),f={pathname:s,search:h,hash:l},d=void 0===d||!0===d,this.result=d?function(){v.trace("".concat(c," redirectTo")),v.router.redirect(f,a)}:function(){v.trace("".concat(c," goTo")),v.router.go(f,a)},t.abrupt("return");case 23:if(!o){t.next=27;break}return o=this.injectRoutingProps(o),this.result=function(){v.trace("".concat(c," component")),v.router.componentSubj.next({component:o,routeActionData:v.routeActionData})},t.abrupt("return");case 27:this.trace("  unprocessed");case 28:case"end":return t.stop()}}),t,this)})))}},{key:"stageInvokeRoutesAction",value:function(){return c(this,void 0,void 0,r.mark((function t(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isCompleted()&&this.route.action){t.next=2;break}return t.abrupt("return");case 2:return e="invoke 'action'",this.trace(e),t.next=6,this.invokeAction(this.route.action,"action",e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"stageSummarize",value:function(){return c(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.trace("location processed"),this.isCompleted()){t.next=3;break}throw new Error("Impossible to process of resolved route for [ ".concat(this.id," ]"));case 3:return t.abrupt("return",this);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"isCompleted",value:function(){return this.isCanceled||(this.isCanceled=this.router.isLocationChanged(this.location)),this.isCanceled||this.result}},{key:"getRouteActionData",value:function(){var t=this.location,e=t.pathname,n=t.search,r=t.hash,o=t.state,i=t.key,c=null===o||void 0===o?void 0:o.previousActionData;return c&&(null===o||void 0===o||delete o.previousActionData,o&&0===Object.keys(o).length&&(o=null)),{target:{pathname:e,pathParams:this.resolved.pathParams,search:u.excludeFirstSymbol("?",n),hash:u.excludeFirstSymbol("#",r)},ctx:o,note:this.route.note,previous:c,key:i}}},{key:"injectRoutingProps",value:function(t){if(!this.options.injectRouteActionsDataToComponent)return t;if("object"===typeof t){this.trace("  inject routing props to component");var e={routeActionData:this.routeActionData};if(s.default.isValidElement(t))return s.default.cloneElement(t,e)}return t}},{key:"invokeAction",value:function(t,e,n){return c(this,void 0,void 0,r.mark((function o(){var i;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t(this.routeActionData);case 3:i=r.sent,r.next=9;break;case 6:throw r.prev=6,r.t0=r.catch(0),new Error("Error in route ".concat(e,"(...) for [ ").concat(this.id," ]. ").concat(r.t0));case 9:return this.pathResolver.correctResultFromAction(this.location.pathname,i,this.route,this.parentRoute),r.next=12,this.stageProcessResult(i);case 12:r.sent||this.isCompleted()||(this.isCanceled=!0,this.trace("".concat(n," -> unknown result")));case 14:case"end":return r.stop()}}),o,this,[[0,6]])})))}},{key:"trace",value:function(t){this.router.trace(this.id,t)}},{key:"blockNavigation",value:function(){return c(this,void 0,void 0,r.mark((function e(){var n,o,i,a=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.route.canDeactivate,!this.isCompleted()&&n){e.next=3;break}return e.abrupt("return");case 3:this.trace("block navigation out from [ ".concat(this.id," ]")),o=this.getRouteActionData(),i=function(e){return c(a,void 0,void 0,r.mark((function i(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.trace("invoke 'canDeactivate' action"),r.next=4,n(e.location,o);case 4:c=r.sent,this.trace("".concat(c?"can":"cannot"," be deactivated to [ ").concat(t.id(e.location)," ]")),c&&(this.unblockNavigation(),e.retry()),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),this.unblockNavigation(),new Error("Error in route 'canDeactivate' action for [ ".concat(this.id," ]. ").concat(r.t0));case 13:case"end":return r.stop()}}),i,this,[[0,9]])})))},this.unblockNavigationFn=this.router.block(i);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"unblockNavigation",value:function(){this.unblockNavigationFn&&(this.unblockNavigationFn(),this.unblockNavigationFn=null,this.trace("unblock navigation"))}},{key:"options",get:function(){return this.router.options}},{key:"pathResolver",get:function(){return this.router.pathResolver}}]),t}();e.Task=h,h.id=function(t){return u.getUrl(t)}},110:function(t,e,n){},114:function(t,e,n){},115:function(t,e,n){},116:function(t,e,n){},118:function(t,e,n){"use strict";n.r(e);n(98);var r=n(29),o=n(27),i=n(46),c=n.n(i),a=n(82),s=n(1),u=n(10),h=n.n(u),l=n(6),d=function(t){return Object(l.useDocumentTitle)(t),Object(s.jsxs)("div",{children:[Object(s.jsx)(l.Link,{href:"/first",children:"First component"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/second",ctx:{title:"first"},children:"Second component"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"http://ya.ru",children:"Ya.ru"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/hello",ctx:{title:"404"},children:"hello"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/protected-by-authorization",children:"authorization required"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/can-deactivate-check",children:"can deactivate check"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},f=n(79),v=n(80),p=n(97),b=n(96),j=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(t){var r,o,i;Object(f.a)(this,n),i=e.call(this,t);var c=null===t||void 0===t||null===(r=t.routeActionData)||void 0===r||null===(o=r.note)||void 0===o?void 0:o.title;return c&&(document.title=c),i}return Object(v.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"First works!"}),Object(s.jsx)(l.Link,{href:"/first/world?qwerty=123#asd",children:"world"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/first/to-pic",children:"to pic"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:this.props.routeActionData})]})}}]),n}(h.a.Component),m=function(t){return Object(l.useDocumentTitle)(t),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"Second works!"}),Object(s.jsx)(l.Link,{href:"/second/pic/pic",children:"Pic component"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/second/hello/world",children:"hello / world"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/first#warning",children:"first"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},O=function(t){return Object(l.useDocumentTitle)(t),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"Pic works!"}),Object(s.jsx)("img",{src:"data:image/png;base64,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",alt:"Routing",width:"200"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},x=function(t){return Object(l.useDocumentTitle)(t),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Try to leave the page"}),Object(s.jsx)(l.Link,{href:"/first",children:"first"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.Link,{href:"/second",children:"second"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},k=n(25),y=n(41),g="logged-key",w=function(){function t(){Object(f.a)(this,t),this.redirectTo={pathname:""},this.router=void 0,this.router=r.a.resolve(o.BrowserRouter)}return Object(v.a)(t,[{key:"isLoggedIn",value:function(){return!!localStorage.getItem(g)}},{key:"logIn",value:function(t,e){t&&e&&(localStorage.setItem(g,t+e),this.redirectTo&&this.router.redirect(this.redirectTo))}},{key:"logOut",value:function(){localStorage.removeItem(g),this.router.redirect("/")}}]),t}(),T=function(t){var e=Object(y.a)(w),n=Object(k.a)(e,1)[0];return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Congratulations!"}),Object(s.jsx)("p",{children:"You have access to this protected by authorization page."}),Object(s.jsx)("button",{onClick:function(){return n.logOut()},children:"Log Out"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},R=function(t){var e=Object(y.a)(w),n=Object(k.a)(e,1)[0],r=Object(u.useState)(""),o=Object(k.a)(r,2),i=o[0],c=o[1],a=Object(u.useState)(""),h=Object(k.a)(a,2),d=h[0],f=h[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Please log in"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"username",children:"username:"}),Object(s.jsx)("input",{required:!0,type:"text",id:"username",value:i,onChange:function(t){return c(t.target.value)}})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"password",children:"password:"}),Object(s.jsx)("input",{required:!0,type:"password",id:"password",value:d,onChange:function(t){return f(t.target.value)}})]}),Object(s.jsx)("button",{onClick:function(){i&&d?n.logIn(i,d):alert("fill fields with something")},children:"Check"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(l.ActionData,{actionData:t.routeActionData})]})},A=[{path:"",component:Object(s.jsx)(d,{}),note:{title:"Index"}},{path:"first",component:Object(s.jsx)(j,{}),note:{title:"First page"},children:[{path:"to-pic",customTo:{pathname:"/second/12/pic",search:"hello=world",hash:"pic"}},{path:"(.*)",redirectTo:"/not-found"}]},{path:"second",component:Object(s.jsx)(m,{}),note:{title:"Second page"},children:[{path:":page",children:[{path:"pic",component:Object(s.jsx)(O,{}),note:{title:"Pic"}},{path:"(.*)",action:function(t){return new Promise((function(t){setTimeout((function(){return t({redirectTo:"pic"})}),5e3)}))}}]}]},{path:"protected-by-authorization",canActivate:function(t){return F.apply(this,arguments)},component:Object(s.jsx)(T,{})},{path:"can-deactivate-check",canDeactivate:function(t,e){return D.apply(this,arguments)},component:Object(s.jsx)(x,{})},{path:"login",component:Object(s.jsx)(R,{})},{path:"not-found",component:Object(s.jsx)(l.NotFound,{}),note:{title:"Not found page"}},{path:"(.*)",redirectTo:"/not-found"}];function F(){return(F=Object(a.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.a.resolve(w)).isLoggedIn()){t.next=5;break}return t.abrupt("return",{skip:!0});case 5:return n.redirectTo=e.target,t.abrupt("return",{redirectTo:"login"});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=Object(a.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.confirm("Are you sure you want to go to '".concat(e.pathname,"' ?")));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L={enableTrace:!0,injectRouteActionsDataToComponent:!0,pathResolver:{enableTrace:!0}};n(116);r.a.register(o.BrowserRouter,{useValue:new o.BrowserRouter(A,L)}),r.a.register(w,{useValue:new w}),Object(l.startRouter)(A,document.getElementById("root"))},27:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(84),e),o(n(101),e)},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(25),o=n(10),i=n(29),c=function(t){var e=Object(o.useState)((function(){return i.a.resolve(t)}));return[Object(r.a)(e,1)[0]]}},6:function(t,e,n){"use strict";var r=n(89);n.o(r,"ActionData")&&n.d(e,"ActionData",(function(){return r.ActionData})),n.o(r,"Link")&&n.d(e,"Link",(function(){return r.Link})),n.o(r,"NotFound")&&n.d(e,"NotFound",(function(){return r.NotFound})),n.o(r,"startRouter")&&n.d(e,"startRouter",(function(){return r.startRouter})),n.o(r,"useDocumentTitle")&&n.d(e,"useDocumentTitle",(function(){return r.useDocumentTitle}));var o=n(71);n.d(e,"useDocumentTitle",(function(){return o.a}));var i=n(90);n.d(e,"Link",(function(){return i.a}));var c=n(93);n.d(e,"NotFound",(function(){return c.a}));var a=n(72);n.d(e,"ActionData",(function(){return a.a}));var s=n(92);n.d(e,"startRouter",(function(){return s.a}))},71:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10),o=function(t){var e=t.routeActionData;Object(r.useEffect)((function(){var t,n=null===e||void 0===e||null===(t=e.note)||void 0===t?void 0:t.title;n&&(document.title=n)}),[])}},72:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),o=n(10),i=n(94),c=n.n(i),a=(n(110),function(t){var e=t.actionData,n=Object(o.useRef)(null);return Object(o.useLayoutEffect)((function(){n.current&&c()(n.current)}),[n]),Object(r.jsxs)("div",{className:"ActionData",children:[Object(r.jsx)("p",{className:"ActionData_text",children:"route action data (injected):"}),Object(r.jsx)("textarea",{className:"ActionData_listing",value:JSON.stringify(e||"empty",null,2),readOnly:!0,ref:n})]})})},84:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0,e.defaultOptions={enableTrace:!1,injectRouteActionsDataToComponent:!1,pathResolver:{enableTrace:!1}}},85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0,e.defaultOptions={enableTrace:!1}},86:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cloneRoute=e.cloneResult=void 0,e.cloneResult=function(t){var e=Object.assign({},t);return e.customTo&&(e.customTo=Object.assign({},e.customTo)),e},e.cloneRoute=function(t){var n=e.cloneResult(t);return n.note&&(n.note=Object.assign({},n.note)),n}},88:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertGoToFromStr=e.getLocalRoute=e.getUrl=e.isGoAway=e.addFirstSymbol=e.excludeFirstSymbol=void 0,e.excludeFirstSymbol=function(t,e){return e&&e[0]===t?e.slice(1):e},e.addFirstSymbol=function(t,e){return e?e[0]===t?e:t+e:e},e.isGoAway=function(t){var e=t.origin;return"_blank"===t.target||e&&e!==window.location.origin},e.getUrl=function(t){var e=t.href,n=t.origin,r=t.pathname,o=t.search,i=t.hash;return e||"".concat(n||"").concat(r||"").concat(o||"").concat(i||"")},e.getLocalRoute=function(t){return{pathname:t.pathname,search:t.search,hash:t.hash}},e.convertGoToFromStr=function(t){return"string"===typeof t?{pathname:t}:t}},89:function(t,e){},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(83),o=n(25),i=n(1),c=(n(10),n(27)),a=n(41),s=function(t){var e=t.href,n=t.onClick,s=t.children,u=t.ctx,h=Object(a.a)(c.BrowserRouter),l=Object(o.a)(h,1)[0];return Object(i.jsx)("a",Object(r.a)(Object(r.a)({},t),{},{href:e,onClick:function(t){t.preventDefault(),n&&n(t),l.go(t.currentTarget,u)},children:s}))}},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(1),o=n(27),i=(n(10),n(95)),c=n.n(i),a=n(29),s=n(87),u=n(25),h=(n(114),n(41)),l=n(6),d=function(){var t=Object(h.a)(o.BrowserRouter),e=Object(u.a)(t,1)[0];return Object(r.jsx)("header",{className:"page-header",children:Object(r.jsxs)("nav",{className:"page-header_nav",children:[Object(r.jsx)("button",{className:"page-header_btn  page-header_btn--back",title:"Back",onClick:function(){return e.goBack()},children:Object(r.jsx)("svg",{children:Object(r.jsx)("path",{d:f})})}),Object(r.jsx)(l.Link,{href:"/",children:"Index"}),Object(r.jsx)("button",{className:"page-header_btn  page-header_btn--forward",title:"Forward",onClick:function(){return e.goForward()},children:Object(r.jsx)("svg",{children:Object(r.jsx)("path",{d:f})})})]})})},f="M19.9688 2.00049L2.99825 18.5843L19.9688 35.168",v=function(t){return Object(r.jsx)("main",{children:t.children})},p=(n(115),function(t){return Object(r.jsxs)("div",{className:"general-tmpl",children:[Object(r.jsx)(d,{}),Object(r.jsx)(v,{children:t.children})]})}),b=function(t,e){if(!e)throw new Error("Root routing element is not defined");var n=a.a.resolve(o.BrowserRouter);n.componentData$.pipe(Object(s.a)((function(t){var n=t.component,o=(t.routeActionData,Object(r.jsx)(p,{children:n}));c.a.render(o,e)}))).subscribe(),n.start()}},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),o=(n(10),n(72)),i=n(71),c=function(t){Object(i.a)(t);var e=t.routeActionData,n=function(t){if(t)return t.previous}(e),c=n?Object(r.jsxs)("span",{children:[Object(r.jsx)("code",{children:Object(r.jsx)("b",{children:n.target.pathname})})," - not found"]}):Object(r.jsx)("span",{children:"Not found"});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:["404. ",c]}),Object(r.jsx)(o.a,{actionData:e})]})}}},[[118,1,2]]]);
//# sourceMappingURL=main.128b9f49.chunk.js.map